<div class="col-lg-12 mb-4">
  <%= link_to order_path(order), class: "text-decoration-none text-dark", data: { turbo_frame: "_top" } do %>
    <div class="card shadow-sm border-light">
      <div class="card-body">
        <h5 class="card-title mb-3"><%= order.order_number %></h5>
        <%= render partial: "orders/show_statuses", locals: { order: order } %>
      </div>
      <div class="card-footer bg-light">
        <h6><strong>Order Items:</strong></h6>
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            <% order.order_items.each do |item| %>
              <tr>
                <td><%= item.product.title %></td>
                <td><%= number_to_currency(item.price_at_purchase) %></td>
                <td><%= item.quantity %></td>
                <td><%= number_to_currency(item.total_price) %></td>
              </tr>
            <% end %>
            <tr>
              <td><b>Total</b></td>
              <td></td>
              <td></td>
              <td><b><%= number_to_currency(order.total_price) %></b></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  <% end %>
</div>